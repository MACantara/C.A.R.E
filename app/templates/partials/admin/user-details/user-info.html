<!-- User Information -->
<div
    class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 dark:border-gray-700 opacity-0 animate-fade-in-left">
    <h2 class="text-lg sm:text-xl font-bold text-gray-900 dark:text-white mb-4 sm:mb-6">User Information</h2>

    <div class="space-y-4 sm:space-y-6">
        <!-- Basic Information -->
        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Full Name</label>
            <p class="text-sm text-gray-900 dark:text-white break-words">{{ user.display_name }}</p>
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Username</label>
            <p class="text-sm text-gray-900 dark:text-white break-words">{{ user.username }}</p>
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email</label>
            <p class="text-sm text-gray-900 dark:text-white break-words">{{ user.email }}</p>
        </div>

        <!-- Role and Status -->
        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Role & Status</label>
            <div class="flex flex-wrap gap-2">
                <!-- Role Badge -->
                <span
                    class="px-3 py-1 text-sm rounded-full {{ 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400' if user.role == 'patient' else 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400' if user.role == 'doctor' else 'bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400' if user.role == 'staff' else 'bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400' }} whitespace-nowrap">
                    {{ user.role.title() }}
                </span>

                <!-- Account Status -->
                {% if user.active %}
                <span
                    class="px-3 py-1 text-sm rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 whitespace-nowrap">Active</span>
                {% else %}
                <span
                    class="px-3 py-1 text-sm rounded-full bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400 whitespace-nowrap">Inactive</span>
                {% endif %}

                <!-- Admin Badge -->
                {% if user.is_admin %}
                <span
                    class="px-3 py-1 text-sm rounded-full bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400 whitespace-nowrap">Admin</span>
                {% endif %}
            </div>
        </div>

        <!-- Role-specific Information -->
        {% if user.role in ['doctor', 'staff'] %}
        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Professional
                Information</label>
            <div class="space-y-2">
                {% if user.license_number %}
                <p class="text-sm text-gray-900 dark:text-white">
                    <span class="font-medium">License:</span> {{ user.license_number }}
                </p>
                {% endif %} {% if user.specialization %}
                <p class="text-sm text-gray-900 dark:text-white">
                    <span class="font-medium">Specialization:</span> {{ user.specialization }}
                </p>
                {% endif %} {% if user.facility_name %}
                <p class="text-sm text-gray-900 dark:text-white">
                    <span class="font-medium">Facility:</span> {{ user.facility_name }}
                </p>
                {% endif %}
            </div>
        </div>
        {% endif %}

        <!-- Contact Information -->
        {% if user.phone_number %}
        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Phone Number</label>
            <p class="text-sm text-gray-900 dark:text-white break-words">{{ user.phone_number }}</p>
        </div>
        {% endif %}

        <!-- Patient-specific Information -->
        {% if user.role == 'patient' %}
        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Patient Information</label>
            <div class="space-y-2">
                {% if user.date_of_birth %}
                <p class="text-sm text-gray-900 dark:text-white">
                    <span class="font-medium">Date of Birth:</span> {{ user.date_of_birth.strftime('%B %d, %Y') }}
                </p>
                {% endif %} {% if user.emergency_contact %}
                <p class="text-sm text-gray-900 dark:text-white">
                    <span class="font-medium">Emergency Contact:</span> {{ user.emergency_contact }}
                    {% if user.emergency_phone %} ({{ user.emergency_phone }}){% endif %}
                </p>
                {% endif %} {% if user.address %}
                <p class="text-sm text-gray-900 dark:text-white">
                    <span class="font-medium">Address:</span> {{ user.address }}
                </p>
                {% endif %}
            </div>
        </div>
        {% endif %}

        <!-- Account Timestamps -->
        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Account Details</label>
            <div class="space-y-2">
                <p class="text-sm text-gray-900 dark:text-white">
                    <span class="font-medium">Registered:</span> {{ user.created_at.strftime('%B %d, %Y at %I:%M %p') }}
                </p>
                <p class="text-sm text-gray-900 dark:text-white">
                    <span class="font-medium">Last Login:</span>
                    {% if user.last_login %}
                    {{ user.last_login.strftime('%B %d, %Y at %I:%M %p') }}
                    {% else %}
                    Never logged in
                    {% endif %}
                </p>
            </div>
        </div>

        <!-- Email Verification Status -->
        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email Verification</label>
            <p class="text-sm">
                {% if verifications and verifications[0].is_verified %}
                <span class="text-green-600 dark:text-green-400">✓ Verified</span>
                {% else %}
                <span class="text-red-600 dark:text-red-400">✗ Not verified</span>
                {% endif %}
            </p>
        </div>
    </div>

    {% include 'partials/admin/user-details/user-actions.html' %}
</div>